---
const pages = [
  {
    name: "Inicio",
    href: "/",
  },
  {
    name: "Nosotros",
    href: "/about",
  },
  {
    name: "Servicios",
    href: "/services",
  },
  {
    name: "Contacto",
    href: "/contact",
  },
  {
    name: "Aux",
    href: "/components",
  },
];
---

<header class="sticky top-0 right-0 left-0 bg-[#fff]/65 backdrop-blur-md z-50">
  <div class="mx-auto max-w-screen-xl px-4 sm:p-4 lg:p-8">
    <div class="flex h-16 items-center justify-between">
      <div class="flex-1 md:flex md:items-center md:gap-12">
        <a href="/" aria-label="Regresar a la pÃ¡gina de inicio" class="inline-flex">
          <img
            src="/logo-color.svg"
            alt="Logo de Ideas Propias"
            class="w-auto h-10"
          />
        </a>
      </div>

      <div class="md:flex md:items-center md:gap-12">
        <nav aria-label="Global" class="hidden md:block">
          <ul class="flex justify-between items-center gap-6 text-lg">
            {
              pages.map((link) => (
                <li class="hover:text-primary-light transition">
                  <a href={link.href}>{link.name}</a>
                </li>
              ))
            }
          </ul>
        </nav>

        <div class="block md:hidden">
          <button
            id="menuButton"
            class="rounded bg-gray-100 p-2 text-gray-600 transition hover:text-gray-600/75"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              class="size-5"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
              stroke-width="2"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M4 6h16M4 12h16M4 18h16"></path>
            </svg>
          </button>
        </div>
      </div>

      <div class="md:hidden navContent absolute bg-white h-screen w-screen top-0 left-0 animate-duration-slow z-50 pt-28" id="menuMobile">
        <nav class="flex flex-col gap-6 items-center">
          {pages.map(({name, href}) => (
            <a href={href} class="relative">
              <span class="z-10">{name}</span>
            </a>
          ))}
        </nav>
      </div>
    </div>
  </div>
</header>

<style>
  #menuMobile {
    opacity: 0;
    pointer-events: none;
  }

  #menuMobile.open {
    opacity: 1 !important;
    pointer-events: all;
  }
</style>

<script>
  import { $ } from "@/lib/dom-selector";

  const menuButton = $('#menuButton')
  const navContent = $('.navContent')
  const menuMobile = $('#menuMobile')

  function toggleMenu(){

    navContent?.classList.toggle("animate-bounce-fade-in")
  }

  menuButton.addEventListener('click', () => 
  toggleMenu()
  )
</script>